<p>{{ bookingForm.value| json }}</p>

<form [formGroup]="bookingForm" (ngSubmit)="addBooking()">

  <div class="mb-3">
    <label for="roomId" class="form-label">Room Id</label>
    <input type="text" class="form-control" id="roomId" formControlName="roomId">
  </div>

  <div class="mb-3">
    <label for="guestEmail" class="form-label">Email</label>
    <input type="email" class="form-control" id="guestEmail" formControlName="guestEmail">
  </div>

  <div class="mb-3">
    <label for="guestName" class="form-label">Name</label>
    <input type="text" class="form-control" id="guestName" formControlName="guestName">
    <p *ngIf="bookingForm.get('guestName')?.hasError('invalidName')">The name cannot be 'test' or 'teste'</p>
  </div>

  <div class="mb-3">
    <label for="mobileNumber" class="form-label">Mobile Number</label>
    <input type="text" class="form-control" id="mobileNumber" formControlName="mobileNumber">
  </div>

  <div class="mb-3">
    <label for="bookingAmount" class="form-label">Booking Amount</label>
    <input type="number" class="form-control" id="bookingAmount" formControlName="bookingAmount">
  </div>

  <div class="mb-3">
    <label for="checkinDate" class="form-label">Checking Date</label>
    <input type="date" class="form-control" id="checkinDate" formControlName="checkinDate">
  </div>

  <div class="mb-3">
    <label for="checkoutDate" class="form-label">Checkout Date</label>
    <input type="date" class="form-control" id="checkoutDate" formControlName="checkoutDate">
  </div>

  <div class="mb-3">
    <label for="bookingDate" class="form-label">Booking Date</label>
    <input type="date" class="form-control" id="bookingDate" formControlName="bookingDate">
  </div>

  <div class="accordion" formGroupName="address">
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
          aria-expanded="true" aria-controls="collapseOne">
          Address
        </button>
      </h2>
      <div id="collapseOne" class="accordion-collapse collapse hidden" data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <div class="mb-3">
            <label for="addressLine1" class="form-label">Address 1</label>
            <input type="text" class="form-control" id="addressLine1" formControlName="addressLine1">
          </div>
          <div class="mb-3">
            <label for="addressLine2" class="form-label">Address 2</label>
            <input type="text" class="form-control" id="addressLine2" formControlName="addressLine2">
          </div>
          <div class="mb-3">
            <label for="city" class="form-label">City</label>
            <input type="text" class="form-control" id="city" formControlName="city">
          </div>
          <div class="mb-3">
            <label for="state" class="form-label">State</label>
            <input type="text" class="form-control" id="state" formControlName="state">
          </div>
          <div class="mb-3">
            <label for="country" class="form-label">Country</label>
            <input type="text" class="form-control" id="country" formControlName="country">
          </div>
          <div class="mb-3">
            <label for="zipCode" class="form-label">Zip Code</label>
            <input type="text" class="form-control" id="zipCode" formControlName="zipCode">
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="accordion">
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo"
          aria-expanded="true" aria-controls="collapseTwo">
          Guests
        </button>
      </h2>
      <div id="collapseTwo" class="accordion-collapse collapse hidden" data-bs-parent="#accordionTwo">
        <div class="accordion-body">
          <div formArrayName="guests">
            <div *ngFor="let guest of guests.controls; let i = index">
              <div [formGroupName]="i">
                <div class="mb-3">
                  <label for="guestName" class="form-label">Guest Name</label>
                  <input type="text" class="form-control" id="guestName" formControlName="guestName">
                </div>
                <div class="mb-3">
                  <label for="age" class="form-label">Age</label>
                  <input type="number" class="form-control" id="age" formControlName="age">
                </div>
              </div>
            </div>
          </div>
          <button type="button" class="btn btn-primary mt-3" (click)="addGuest()">Add Guest</button>
        </div>
      </div>
    </div>
  </div>

  <button type="submit" class="btn btn-primary mt-3">Cadastrar</button>

</form>
